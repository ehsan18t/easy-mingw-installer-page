---
import { Image } from "astro:assets";
import logo from "@/assets/logo.png";
import { Icon } from "astro-icon/components";

const year = new Date().getFullYear();
---

<footer class="border-t border-gray-200 bg-gradient-to-b from-gray-50 to-gray-100 py-8">
  <div class="container mx-auto px-4">
    <!-- Main footer content -->
    <div class="mb-4 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4">
      <!-- Brand section -->
      <div class="flex flex-col items-center sm:col-span-2 sm:items-start">
        <div class="mb-3 flex items-center gap-2">
          <Image src={logo} class="h-10 w-auto" alt="Easy MinGW Installer logo" />
          <div>
            <h3 class="text-base font-bold text-slate-700">Easy MinGW Installer</h3>
            <p class="text-xs text-gray-600">Simple two-click installation</p>
          </div>
        </div>
        <p class="max-w-md text-center text-xs text-gray-600 sm:text-left">Simplify your MinGW setup with a seamless installation experience supporting both 64-bit & 32-bit architectures.</p>

        <!-- Connect section -->
        <div class="mt-4">
          <div class="flex justify-center gap-2 sm:justify-start">
            <a href="https://github.com/ehsan18t" class="rounded-full bg-gray-100 p-1.5 transition duration-200 hover:bg-gray-700 hover:text-white" target="_blank" rel="noreferrer" aria-label="GitHub">
              <Icon name="github" size={24} />
            </a>
            <a href="https://discord.com/users/xcarl3t" class="rounded-full bg-gray-100 p-1.5 transition duration-200 hover:bg-indigo-600 hover:text-white" target="_blank" rel="noreferrer" aria-label="Discord">
              <Icon name="discord-solid" size={24} />
            </a>
            <a href="https://t.me/ehsan18t" class="rounded-full bg-gray-100 p-1.5 transition duration-200 hover:bg-blue-500 hover:text-white" target="_blank" rel="noreferrer" aria-label="Telegram">
              <Icon name="telegram-solid" size={24} />
            </a>
          </div>
        </div>
      </div>

      <!-- Project Links -->
      <div>
        <h4 class="mb-3 text-center text-sm font-semibold text-gray-700 sm:text-left">Project</h4>
        <ul class="flex flex-col items-center gap-1.5 sm:items-start">
          <li>
            <a href="https://github.com/ehsan18t/easy-mingw-installer" class="flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600" target="_blank" rel="noreferrer">
              <Icon name="github" size={18} />
              <span>GitHub Repository</span>
            </a>
          </li>
          <li>
            <a href="https://github.com/ehsan18t/easy-mingw-installer/releases" class="flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600" target="_blank" rel="noreferrer">
              <Icon name="download" size={18} />
              <span>All Releases</span>
            </a>
          </li>
          <li>
            <a href="https://github.com/ehsan18t/easy-mingw-installer/issues" class="flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600" target="_blank" rel="noreferrer">
              <Icon name="simple-icons:openbugbounty" size={18} />
              <span>Report Issue</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Resources & Connect combined for better layout -->
      <div>
        <div class="mb-4">
          <h4 class="mb-3 text-center text-sm font-semibold text-gray-700 sm:text-left">Resources</h4>
          <ul class="flex flex-col items-center gap-1.5 sm:items-start">
            <li>
              <a href="https://winlibs.com/" class="flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600" target="_blank" rel="noreferrer">
                <Icon name="code" size={18} />
                <span>WinLibs Project</span>
              </a>
            </li>
            <li>
              <a href="https://sourceforge.net/projects/mingw/" class="flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600" target="_blank" rel="noreferrer">
                <Icon name="code" size={18} />
                <span>MinGW Project</span>
              </a>
            </li>
            <li>
              <a href="https://gcc.gnu.org/" class="flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600" target="_blank" rel="noreferrer">
                <Icon name="simple-icons:codecrafters" size={18} />
                <span>GCC Documentation</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Bottom bar - more compact -->
    <div class="flex flex-col items-center justify-between border-t border-gray-200 pt-4 text-xs sm:flex-row">
      <div class="mb-3 flex items-center text-gray-500 sm:mb-0">
        <span>© {year} Easy MinGW Installer</span>
        <span class="mx-1.5">•</span>
        <span>Created by <a href="https://github.com/ehsan18t" class="text-blue-600 hover:text-blue-700" target="_blank" rel="noreferrer">Ehsan Khan</a></span>
      </div>

      <!-- Back to top -->
      <button id="back-to-top" class="flex items-center gap-1.5 rounded-full bg-blue-50 px-3 py-1.5 text-xs text-blue-600 transition duration-200 hover:bg-blue-100">
        <Icon name="simple-line-icons:arrow-up" size={14} />
        <span>Back to top</span>
      </button>
    </div>
  </div>
</footer>

<script>
  // Back to top button functionality
  document.getElementById("back-to-top")?.addEventListener("click", () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  });
</script>
