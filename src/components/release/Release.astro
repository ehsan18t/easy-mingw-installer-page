---
import { Icon } from "astro-icon/components";
import "./styles.css";

const { class: className } = Astro.props;
---

<div class="release-card relative overflow-hidden rounded-xl border border-blue-100 bg-white p-0 shadow-xl">
  <!-- Subtle gradient background -->
  <div class="pointer-events-none absolute inset-0 bg-gradient-to-br from-white via-white to-blue-50/30"></div>

  <!-- Decorative elements -->
  <div class="absolute -top-16 -right-16 h-32 w-32 rounded-full bg-blue-100/60 blur-xl"></div>
  <div class="absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-indigo-100/60 blur-xl"></div>

  <!-- Top header section with improved styling -->
  <div class="relative border-b border-blue-100 bg-white/80 p-6 backdrop-blur-sm md:p-8">
    <div class="flex gap-5">
      <div class="flex h-16 w-16 items-center justify-center rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 p-3 text-white shadow-md">
        <Icon name="new-releases" size={36} />
      </div>
      <div>
        <div class="flex flex-wrap items-baseline gap-2">
          <h1 class="bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-3xl font-extrabold text-gray-800">Release</h1>
          <span class="version bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-2xl font-bold text-transparent"></span>
        </div>
        <p id="release-date" class="mt-1 text-sm font-medium text-gray-500"></p>
      </div>
    </div>
  </div>

  <!-- Release content with enhanced styling -->
  <div class="relative bg-white/80 px-6 py-8 md:px-8">
    <article class={`${className} markdown-body animate-fadeIn`} id="release"></article>
  </div>

  <!-- Footer section with improved styling -->
  <div class="relative overflow-hidden rounded-b-xl border-t border-blue-100 bg-gradient-to-r from-blue-50/80 to-indigo-50/80 p-6 md:p-8">
    <!-- Decorative elements -->
    <div class="absolute top-0 right-0 h-24 w-24 opacity-10">
      <div class="absolute h-full w-full bg-[radial-gradient(ellipse_at_center,rgba(59,130,246,0.3)_0,transparent_70%)]"></div>
    </div>

    <div class="flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
      <div>
        <h3 class="text-lg font-semibold text-gray-800">Looking for previous versions?</h3>
        <p class="mt-1 text-sm text-gray-600">Check our complete release history and documentation</p>
      </div>

      <a
        target="_blank"
        href="https://github.com/ehsan18t/easy-mingw-installer/releases"
        class="group flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-5 py-2.5 font-medium text-white shadow-md transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-500/20 focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2 focus:outline-none"
        rel="noreferrer"
      >
        <Icon name="github" size={20} />
        <span>View on GitHub</span>
        <Icon name="simple-line-icons:arrow-right" size={16} class="transition-transform duration-300 group-hover:translate-x-1" />
      </a>
    </div>
  </div>
</div>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
  }

  .release-card {
    box-shadow:
      0 10px 25px -5px rgba(59, 130, 246, 0.1),
      0 8px 10px -6px rgba(99, 102, 241, 0.05);
  }
</style>

<script src="@/js/fetch-release.ts"></script>
