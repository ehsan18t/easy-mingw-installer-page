---
import { Icon } from "astro-icon/components";
import "./styles.css";

const { class: className } = Astro.props;
---

<div class="release-card relative overflow-hidden rounded-xl border border-indigo-100/50 bg-white p-6 shadow-lg">
  <!-- Decorative elements -->
  <div class="absolute -top-12 -right-12 h-28 w-28 rounded-full bg-blue-100/80 blur-xl"></div>
  <div class="absolute -bottom-12 -left-12 h-28 w-28 rounded-full bg-indigo-100/80 blur-xl"></div>

  <!-- Top header section -->
  <div class="mb-6 border-b border-gray-100 pb-4">
    <div class="flex items-center gap-4">
      <div class="flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 p-3 text-white shadow-md">
        <Icon name="new-releases" size={32} />
      </div>
      <div>
        <div class="mb-1 flex items-baseline gap-2">
          <h1 class="text-3xl font-bold text-gray-800">Release</h1>
          <span class="version text-2xl font-semibold text-blue-600"></span>
        </div>
        <p id="release-date" class="text-sm font-medium text-gray-500"></p>
      </div>
    </div>
  </div>

  <!-- Release content with enhanced styling -->
  <div class="relative px-2 md:px-4 lg:px-6">
    <article class={`${className} markdown-body animate-fadeIn`} id="release"></article>
  </div>

  <!-- Footer section with improved styling -->
  <div class="relative mt-8 overflow-hidden rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 p-6">
    <!-- Decorative elements -->
    <div class="absolute top-0 right-0 h-16 w-16 opacity-20">
      <div class="absolute top-4 right-4 h-2 w-2 rounded-full bg-blue-500"></div>
      <div class="absolute top-8 right-8 h-2 w-2 rounded-full bg-indigo-500"></div>
      <div class="absolute top-4 right-12 h-2 w-2 rounded-full bg-blue-500"></div>
      <div class="absolute top-12 right-4 h-2 w-2 rounded-full bg-indigo-500"></div>
    </div>

    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div class="mb-4 sm:mb-0">
        <h3 class="font-semibold text-gray-800">Looking for previous versions?</h3>
        <p class="text-sm text-gray-600">Check our complete release history</p>
      </div>

      <a
        target="_blank"
        href="https://github.com/ehsan18t/easy-mingw-installer/releases"
        class="group flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 font-medium text-white shadow-md transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/20"
        rel="noreferrer"
      >
        <Icon name="github" size={20} />
        <span>View on GitHub</span>
        <Icon name="simple-line-icons:arrow-right" size={16} class="transition-transform duration-300 group-hover:translate-x-1" />
      </a>
    </div>
  </div>
</div>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
  }

  .release-card {
    box-shadow:
      0 10px 25px -5px rgba(59, 130, 246, 0.1),
      0 8px 10px -6px rgba(99, 102, 241, 0.05);
  }
</style>

<script src="@/js/fetch-release.ts"></script>
