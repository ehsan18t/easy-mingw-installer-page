---
import { Icon } from "astro-icon/components";
import JumpButton from "./JumpButton.astro";
---

<section class="relative flex h-screen flex-col items-center justify-center overflow-hidden bg-gradient-to-br from-indigo-950 via-slate-900 to-blue-900 py-32 text-white">
  <!-- Background Elements -->
  <div class="absolute inset-0">
    <!-- Radial gradient overlay -->
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(79,70,229,0.2)_0,rgba(0,0,0,0)_70%)]"></div>

    <!-- Grid pattern -->
    <div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(99,102,241,0.05)_1px,transparent_1px),linear-gradient(to_bottom,rgba(99,102,241,0.05)_1px,transparent_1px)] bg-[size:20px_20px]"></div>

    <!-- Floating particles -->
    <div class="particle-container absolute inset-0 opacity-60"></div>
  </div>

  <div class="relative container">
    <div class="absolute inset-0">
      <!-- Top right code snippet -->
      <div class="code-snippet absolute -top-20 right-2 rotate-3 rounded-lg bg-white/5 p-2 backdrop-blur-sm sm:right-4 sm:p-3 md:-top-10 md:right-6 lg:right-8 lg:rotate-6">
        <div class="font-mono text-[10px] text-blue-300 sm:text-xs">
          <span class="text-pink-400">gcc</span> -o program main.c
        </div>
      </div>

      <!-- Bottom left code snippet -->
      <div class="code-snippet absolute -bottom-10 left-2 -rotate-2 rounded-lg bg-white/5 p-2 backdrop-blur-sm sm:bottom-4 sm:left-4 sm:p-3 md:bottom-6 md:left-6 lg:bottom-8 lg:left-8 lg:-rotate-3">
        <div class="font-mono text-[10px] text-blue-300 sm:text-xs">
          <span class="text-green-400">#include</span> &lt;stdio.h&gt;
        </div>
      </div>
    </div>

    <div class="relative z-10 container mx-auto px-4">
      <div class="flex flex-col items-center justify-center text-center">
        <!-- Version Badge -->
        <div class="mb-5 inline-flex items-center rounded-full border border-indigo-500/20 bg-indigo-700/40 px-4 py-1.5 text-sm font-medium shadow-lg backdrop-blur-sm">
          <span class="glow-sm mr-2 h-2.5 w-2.5 animate-pulse rounded-full bg-green-400"></span>
          <span class="pr-1">Latest Version:</span>
          <span id="latest-version">v2.0.0</span>
        </div>

        <!-- Title with Animation -->
        <h1 class="mb-6 text-5xl font-extrabold tracking-tight md:text-6xl lg:text-7xl">
          <span class="animate-gradient bg-gradient-to-r from-blue-300 via-white to-indigo-300 bg-clip-text text-transparent drop-shadow-sm">Easy MinGW Installer</span>
        </h1>

        <!-- Improved Tagline -->
        <p class="mb-10 max-w-2xl text-lg leading-relaxed text-indigo-100 md:text-xl">
          Simplify your MinGW setup with a seamless two-click installation experience.
          <span class="mt-4 block text-sm text-blue-200 italic md:text-base">Supporting both 64-bit & 32-bit architectures</span>
        </p>

        <!-- Buttons -->
        <div class="mb-10 flex flex-col justify-center gap-4 md:flex-row">
          <JumpButton
            id="btn-download"
            jumpRef="download-section"
            class="group relative inline-flex transform items-center justify-center gap-3 overflow-hidden rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-4 text-lg font-medium text-white shadow-lg transition duration-300 hover:scale-105 hover:from-blue-500 hover:to-indigo-500 hover:shadow-blue-600/30 focus:ring-4 focus:ring-blue-500/50 focus:outline-none"
          >
            <span class="animate-shimmer-hover group-hover:animate-shimmer absolute inset-0 -translate-x-full bg-gradient-to-r from-blue-500/0 via-white/20 to-blue-500/0"></span>
            <Icon name="download" size={24} class="transition-transform group-hover:-translate-y-1" />
            <span>Download Now</span>
          </JumpButton>

          <a
            href="https://github.com/ehsan18t/easy-mingw-installer"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="View project on GitHub"
            class="group inline-flex transform items-center justify-center gap-3 rounded-lg border border-indigo-300/30 bg-white/5 px-8 py-4 text-lg font-medium text-white shadow-lg backdrop-blur-sm transition duration-300 hover:scale-105 hover:bg-white/10 focus:ring-4 focus:ring-white/20 focus:outline-none"
          >
            <Icon name="github" size={24} class="transition-transform group-hover:rotate-12" />
            <span>View on GitHub</span>
          </a>
        </div>

        <!-- Download Count -->
        <div class="mt-2 flex items-center justify-center gap-2 rounded-full border border-white/10 bg-white/5 px-5 py-2.5 text-sm text-blue-200 backdrop-blur-sm">
          <Icon name="user" size={16} class="text-indigo-300" />
          <span id="download-count">0 downloads</span>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* animations */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  .animate-shimmer-hover {
    animation: none;
  }

  .group:hover .animate-shimmer {
    animation: shimmer 1.5s infinite;
  }

  @keyframes gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .animate-gradient {
    background-size: 200% auto;
    animation: gradient 4s ease infinite;
  }

  .glow-sm {
    box-shadow: 0 0 5px 1px rgba(74, 222, 128, 0.6);
  }

  /* Particle animation for background */
  .particle-container {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .particle-container::before,
  .particle-container::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: radial-gradient(circle, rgba(99, 102, 241, 0.4) 2px, transparent 2px), radial-gradient(circle, rgba(59, 130, 246, 0.3) 1px, transparent 1px);
    background-size:
      60px 60px,
      120px 120px;
    animation: particleShift 20s linear infinite;
  }

  .particle-container::after {
    background-image: radial-gradient(circle, rgba(168, 85, 247, 0.3) 1px, transparent 1px), radial-gradient(circle, rgba(236, 72, 153, 0.2) 1.5px, transparent 1.5px);
    background-size:
      80px 80px,
      160px 160px;
    animation: particleShift 15s linear infinite reverse;
  }

  @keyframes particleShift {
    0% {
      background-position:
        0 0,
        0 0;
    }
    100% {
      background-position:
        100px 100px,
        200px 200px;
    }
  }

  /* Code snippet animation */
  .code-snippet {
    animation: fadeIn 0.8s ease-out forwards 0.5s;
    transform-origin: center center;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px) rotate(var(--rotation, 0deg));
    }
    to {
      opacity: 0.7;
      transform: translateY(0) rotate(var(--rotation, 0deg));
    }
  }
</style>
